:root{
  --bg:#0f1115;
  --panel:#151922;
  --panel-2:#1b2130;
  --text:#e6e9ef;
  --muted:#9aa4b2;
  --accent:#5aa9e6;
  --accent-2:#8bd450;
  --danger:#f85e5e;
  --border:rgba(255,255,255,0.14);
  --focus:#f59e0b;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font:400 14px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Helvetica,Arial,sans-serif;
}
.app-header{
  padding:16px 20px;
  border-bottom:1px solid var(--border);
  background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);
}
.app-header h1{margin:0;font-size:20px;letter-spacing:.3px}
.app-container{max-width:1200px;margin:0 auto;padding:20px;display:grid;gap:20px}

.controls{display:grid;grid-template-columns:repeat(6,minmax(0,1fr));gap:12px;align-items:end}
.field{display:flex;flex-direction:column;gap:6px}
.field-inline{grid-column:auto / span 2}
.field label{font-size:12px;color:var(--muted)}
input,select,button{
  height:36px;
  border-radius:8px;
  border:1px solid var(--border);
  background:var(--panel);
  color:var(--text);
  padding:0 10px;
}
/* Focus visible for accessibility */
input:focus-visible, select:focus-visible, button:focus-visible{
  outline:2px solid var(--focus);
  outline-offset:2px;
  box-shadow:0 0 0 3px rgba(245,158,11,0.25);
}
/* Disabled states */
button:disabled, .btn:disabled, .btn[disabled]{
  opacity:0.55;
  filter:none;
  cursor:not-allowed;
}
.btn.primary:disabled, .btn.primary[disabled]{
  background: #9acbf0; /* lighter accent for contrast in disabled */
  color:#0b1220;
}
.checkbox{display:flex;align-items:center;gap:8px;color:var(--text)}
.actions{grid-column:1 / -1;display:flex;gap:8px;flex-wrap:wrap}
.btn{background:var(--panel-2);cursor:pointer}
.btn:hover{filter:brightness(1.1)}
.btn.primary{background:var(--accent);color:#0b1220;border-color:transparent}

.kpis{display:grid;grid-template-columns:repeat(5,minmax(0,1fr));gap:12px}
.card{background:var(--panel);border:1px solid var(--border);border-radius:12px;padding:14px}
.kpi .kpi-label{color:var(--muted);font-size:12px;margin-bottom:6px}
.kpi .kpi-value{font-size:22px;font-weight:600}

.conversions h2{margin:0 0 8px 0;font-size:16px;color:var(--muted)}
.conversion-grid{display:grid;grid-template-columns:repeat(5,minmax(0,1fr));gap:12px}
.conv .conv-label{color:var(--muted);font-size:12px;margin-bottom:6px}
.conv .conv-value{font-size:18px;font-weight:600}

.chart-section{background:var(--panel);border:1px solid var(--border);border-radius:12px;padding:10px}
.chart-section canvas{display:block;width:100%}

.app-footer{padding:10px 20px;border-top:1px solid var(--border);display:flex;justify-content:center;color:var(--muted)}
#statusText.error{color:var(--danger)}

@media (max-width: 1100px){
  .controls{grid-template-columns:repeat(4,minmax(0,1fr))}
  .kpis{grid-template-columns:repeat(3,minmax(0,1fr))}
  .conversion-grid{grid-template-columns:repeat(3,minmax(0,1fr))}
}
@media (max-width: 700px){
  .controls{grid-template-columns:repeat(2,minmax(0,1fr))}
  .actions{grid-column:1 / -1}
  .kpis{grid-template-columns:repeat(2,minmax(0,1fr))}
  .conversion-grid{grid-template-columns:repeat(2,minmax(0,1fr))}
}
@media (max-width: 480px){
  .kpis{grid-template-columns:1fr}
  .conversion-grid{grid-template-columns:1fr}
  .app-container{padding:14px}
}